<!-- search bar -->

<div class="form-group search-group">
  <input type="text" placeholder="Search.." name="search" class="form-control" style="width:35%;" id="search_{{page_name}}">
  <a type="submit" class="btn btn-warning btn-round search-btn" onclick="pagination_search('{{page_name}}', detail_id='{{detail_id}}')">
      <i class="fa fa-search" style="color:white;"></i></a>
</div>

<!-- search bar ends -->

<div class="table-responsive">
                            <table class="table table-de table table-striped table-bordered nowrap dataTable no-footer dtr- collapsed">
                                <thead>
                                    <tr>
                                        <th> Invoice ID</th>
                                        <th> Amount</th>
                                        <th> Status</th>
                                        <th> Actions </th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for invoice in data_list %}
                                    <tr>
                                        <td>{{invoice.id}} | <a  href="
                                        {% if request.user.is_staff %}
                                        {% url 'admin:show_invoice' invoice.unique_id %}
                                        {%  else  %}
                                        {% url 'payments:show_invoice' invoice.unique_id %}
                                        {% endif %}
                                        ">Show Invoice <i class="ion-eye"></i> </a>

                                        </td>
                                        <td>{{invoice.amount}}</td>
                                        <td>
                                            {% if invoice.status == 'P' %}
                                                <h6>
                                                <label class="label bg-warning">PENDING</label>
                                                </h6>
                                                {% elif invoice.status == 'OK' %}
                                                <h6>
                                                <label class="label bg-success">PAID</label>
                                                </h6>
                                            {% endif %}

                                        </td>

                                        <td>
                                            <div class="form-group" align="left" style="margin-right:20px;">
            <div class="dropdown-warning dropdown open">
                <button class="btn btn-warning btn-round dropdown-toggle waves-effect waves-light " type="button" id="dropdown-5" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Actions</button>
                <div class="dropdown-menu" aria-labelledby="dropdown-5" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut" x-placement="bottom-start" style="position: absolute; transform: translate3d(0px, 40px, 0px); top: 0px; left: 0px; will-change: transform;">
                    <!--<a class="dropdown-item waves-light waves-effect" href="{% url 'admin:show_invoice' invoice.unique_id %}">Show Invoice Details </a>-->
                    {% if not request.user.is_staff %}
                        <a class="dropdown-item waves-light waves-effect" href="
                        {% if request.user.is_staff %}
                        {% url 'admin:download_invoice' invoice.unique_id %}
                        {% else %}
                            {% url 'payments:download_invoice' invoice.unique_id %}
                        {% endif %}
                            ">Download Invoice</a>
                        <!--<div class="dropdown-divider"></div>-->
                        <!--<a class="dropdown-item waves-light waves-effect" href="{# url 'payments:pay' invoice.unique_id #} #">Pay Invoice </a>-->
                    {% else %}
                        <a class="dropdown-item waves-light waves-effect" href="{% url 'admin:update_invoice' invoice.unique_id %}">Update Invoice </a>
                        <a class="dropdown-item waves-light waves-effect" href="
                        {% url 'admin:download_invoice' invoice.unique_id %}
                        ">Download Invoice</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item waves-light waves-effect"
                        data-toggle="modal" data-target="#delete-invoice-{{invoice.id}}">Delete register </a>
                    {% endif %}

                </div>
            </div>

        </div>
                                        </td>
                                    </tr>
                                <!-- Modal normal sign in start -->
                                    <div id="delete-invoice-{{invoice.id}}" class="modal fade create-form" role="dialog">
                                            <div class="modal-dialog card">
                                                <i class="ion-close" data-dismiss="modal" style="margin-left:90%; margin-top:10px; margin-right:1px;"></i>
                                                <hr>
                                                <!--<form action="{% url 'admin:delete_record' invoice.unique_id page_name %}" method="POST">-->
                                                    <div class="card-block">
                                                            <div class="modal-body">
                                                            <h4 class="lead"> Are you sure you want to delete this record? </h4>
                                                            </div>
                                                            <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            <button class="btn btn-danger" onclick="delete_record('{{page_name}}','{{invoice.unique_id}}')">Delete Record</button>
                                                            </div>
                                                    </div>
                                                <!--</form>-->
                                            </div>
                                        </div>
                                 <!--Modal normal sign in end-->
                                {% empty %}
                                        <div class="card">
                                            <h3 align="center">
                                                There's no Invoices registered in the app.
                                            </h3>
                                        </div>
                                {% endfor %}
                                </tbody>
                            </table>



    <div class="pagination" style="">
        <span class="step-links">
        {% if prior_page %}
        <a class="pag" onclick="get_page('{{page_name}}',1,10,detail_id='{{detail_id}}')">&laquo; first</a>
        <a class="pag" onclick="get_page('{{page_name}}',{{prior_page}},10,detail_id='{{detail_id}}')"> < previous</a>
        {% endif %}

        <span class="current">
        {{total_pages}}
        </span>

        {% if next_page %}
        <a class="pag" onclick="get_page('{{page_name}}',{{next_page}},10, detail_id='{{detail_id}}')">next > </a>
        <a class="pag" onclick="get_page('{{page_name}}',{{last_page}},10,detail_id='{{detail_id}}')">last &raquo;</a>
        {% endif %}

        <span class="current">
        {{per_page}}
        </span>
        </span>
    </div>


    </div>